<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=yes, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Flex</title>
    <script src="d3.v4.js"></script>
    <script src="PartitionSlider.js"></script>
    <link rel="stylesheet" type="text/css" href="partitioning.css">

</head>
<body>

<div class="profile">
    <h1>Flexing Muscle</h1>
    <div class="metric-groups-set">
        <div class="metric-groups">
            <div class="metric-group"></div>
            <div class="metric-group"></div>
            <div class="metric-group"></div>
        </div>
        <div class="metric-ranks partition">

        </div>
    </div>
</div>

</body>
<script>
    var mgSliders = [], mrpSlider = null;

    d3.selectAll(".metric-group").each(function(s,mgi){
        var mg = d3.select(this);
        var mgSlider = mgSliders[mgi] = new PartitionSlider({root:mg.node()});

    });
    d3.selectAll(".metric-ranks.partition").each(function(s){
        var mrp = d3.select(this);
        var rect = mrp.node().getBoundingClientRect();
        mrp.style("width", rect.width + "px")
           .style("height", rect.height + "px")
           .style("position", "relative")
        ;
        mrpSlider = new PartitionSlider({
            root:mrp.node(),
            tick:0.1,
            vertical:true
        });
        // mrp.selectAll("svg").each(function(d,i){
        //     var svg = d3.select(this);
        //     // TODO set translate to get the cookie bar batch
        //     svg.attr("transform","rotate(270)")
        //         .select("g.stage").attr("transform", "translate(-300,0)")
        // })
    });

</script>
</html>